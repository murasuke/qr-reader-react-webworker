(this["webpackJsonpqr-reader-react"]=this["webpackJsonpqr-reader-react"]||[]).push([[0],{16:function(e,t,n){var r,a=n(31).wrap,c=n(25);e.exports=function e(){return this instanceof e?a(c()):r||(r=a(c()))}},25:function(e,t,n){e.exports=function(){return new Worker(n.p+"e6d137625328881513e2.worker.js")}},32:function(e,t,n){"use strict";n.r(t);var r,a,c,i,u,o=n(0),s=n.n(o),b=n(14),j=n.n(b),h=n(3),d=n(2),l=n(10),p=n.n(l),f=n(15),O=n(6),x=n(7),g=n(16),v=n.n(g).a,w=n(1),m=x.a.div(r||(r=Object(O.a)(["\n  position: relative;\n  width : ","px;\n  height: ","px;\n"])),(function(e){return e.width}),(function(e){return e.height})),k=x.a.video(a||(a=Object(O.a)(["\n  position: absolute; \n  z-index : -100;\n"]))),C=x.a.div(c||(c=Object(O.a)(["\n  position: absolute; \n  border: 1px solid #F00;\n  top   : ","px;\n  left  : ","px;\n  width : ","px;\n  height: ","px;\n"])),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.width}),(function(e){return e.height})),I=Object(x.b)(i||(i=Object(O.a)(["\n  from {\n    height: 0px;\n  }\n  to {\n    height: 100%;\n  }\n"]))),y=x.a.div(u||(u=Object(O.a)(["\n  animation: "," infinite  2s alternate both ease-in-out ",";\n  border-bottom: 3px solid #0F0;\n"])),I,(function(e){return e.state})),R=function(e){var t=Object(o.useState)({top:0,left:0,width:0,height:0}),n=Object(d.a)(t,2),r=n[0],a=n[1],c=Object(o.useRef)(null),i=Object(o.useRef)(null),u=Object(o.useMemo)((function(){return new v}),[]);return Object(o.useEffect)((function(){Object(f.a)(p.a.mark((function t(){var n,r,o,s,b,j;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pause){t.next=5;break}return c.current.pause(),clearInterval(i.current),i.current=null,t.abrupt("return");case 5:return n=e.width,r=e.height,o={audio:!1,video:{facingMode:"environment",width:n,height:r}},t.next=9,navigator.mediaDevices.getUserMedia(o);case 9:return s=t.sent,c.current.srcObject=s,c.current.play(),b=new OffscreenCanvas(n,r),j=b.getContext("2d"),i.current||(i.current=setInterval((function(){j.drawImage(c.current,0,0,n,r);var t=j.getImageData(0,0,n,r);u.processData(t).then((function(t){var n,r;t&&(console.log(t.data),e.showQRFrame&&(n=t.location.topLeftCorner,r=t.location.bottomRightCorner,a({top:n.y,left:n.x,width:r.x-n.x,height:r.y-n.y})),e.gecognizeCallback&&e.gecognizeCallback(t))}))}),e.timerInterval)),t.abrupt("return",(function(){return clearInterval(i.current)}));case 16:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)(m,Object(h.a)(Object(h.a)({},e),{},{children:[Object(w.jsx)(k,{ref:c}),Object(w.jsx)(C,Object(h.a)({},r)),Object(w.jsx)(y,{state:e.pause?"paused":"running"})]}))};R.defaultProps={width:500,height:500,pause:!1,showQRFrame:!0,timerInterval:300};var S=R;var z=function(){var e=s.a.useState(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)({width:500,height:500,pause:!0}),c=Object(d.a)(a,2),i=c[0],u=c[1],b=Object(o.useState)(""),j=Object(d.a)(b,2),l=j[0],p=j[1];return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(S,Object(h.a)(Object(h.a)({},i),{},{gecognizeCallback:function(e){p(e.data),n&&u((function(e){return Object(h.a)(Object(h.a)({},e),{},{pause:!0})}))}})),Object(w.jsxs)("div",{children:[Object(w.jsxs)("label",{children:[Object(w.jsx)("input",{type:"radio",name:"rdo",value:"0",onChange:function(e){return r("0"===e.target.value)},checked:n}),"\u8a8d\u8b58\u6642\u306b\u81ea\u52d5\u505c\u6b62"]}),Object(w.jsxs)("label",{children:[Object(w.jsx)("input",{type:"radio",name:"rdo",value:"1",onChange:function(e){return r("0"===e.target.value)},checked:!n}),"\u8a8d\u8b58\u6642\u3082\u51e6\u7406\u7d99\u7d9a"]}),Object(w.jsx)("button",{onClick:function(){u((function(e){return Object(h.a)(Object(h.a)({},e),{},{pause:!e.pause})}))},children:i.pause?"\u518d\u958b":"\u505c\u6b62"}),Object(w.jsxs)("p",{children:["QR\u30b3\u30fc\u30c9\uff1a",l]})]})]})};j.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(z,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.9ace28bd.chunk.js.map